# ============================================
# ONTIX Universal - Brand Configuration Template
# ============================================
# 이 템플릿을 복사하여 새 브랜드 설정을 만드세요.
#
# [중요] retrieval 설정이 없으면 Neo4j 데이터를 검색하지 못합니다!
# 모든 question_type에 대해 retrievers를 설정하세요.

brand:
  id: "template"
  name: "Template Brand"
  description: "A template brand"
  industry: "General"

# ============================================
# Features (활성화할 기능 목록)
# ============================================
features:
  - chat
  - conversational
  - factual
  - validation

# ============================================
# Neo4j Configuration
# ============================================
neo4j:
  brand_id: "template"
  namespaces:
    - "template"
  vector_index: "ontix_global_concept_index"

# ============================================
# Retrieval Configuration (필수!)
# ============================================
# [중요] 이 설정이 없으면 AI가 Neo4j 데이터를 사용하지 못합니다.
#
# 사용 가능한 retrievers:
# - graph: Neo4j 그래프 검색 (Content, Concept 노드) - 필수 권장
# - vector: 벡터 유사도 검색
# - product: 제품 전용 검색
# - stats: 통계/분석 데이터 검색
retrieval:
  default_top_k: 10
  sources:
    - graph
    - vector

  # 대화형 질문 - graph 필수!
  conversational:
    retrievers:
      - graph
    max_results: 10

  # 사실 확인 질문
  factual:
    retrievers:
      - graph
      - vector
    max_results: 10

  # 인사말 - retrieval 불필요
  greeting:
    retrievers: []

  # 제품 추천
  product_recommendation:
    retrievers:
      - graph
      - product

  # 분석 질문
  analytics:
    retrievers:
      - graph
      - stats

# ============================================
# Generation Configuration
# ============================================
generation:
  factual:
    type: factual
    fallback_prompt: shared/factual/base.txt
    model: mini
    temperature: 0

  conversational:
    type: conversational
    fallback_prompt: shared/conversational/base.txt
    model: full
    temperature: 0.8

# ============================================
# Filters v2.0 Configuration
# ============================================
# 브랜드별 필터 설정 (platform/filters.yaml 기본값 오버라이드)

filters:
  # 전역 활성화
  enabled: true

  # Quality Filter
  quality:
    enabled: true
    min_score: 0.5
    min_length: 20
    optimal_min_length: 50

  # Trust Filter
  trust:
    enabled: true
    min_score: 0.5
    hallucination_threshold: 0.3

  # Relevance Filter
  relevance:
    enabled: true
    min_score: 0.5

  # Validation Filter (종합)
  validation:
    enabled: true
    pass_threshold: 0.7

# ============================================
# Feature-specific Settings
# ============================================
# 각 feature에 대한 추가 설정

factual:
  # 필터 오버라이드
  quality_filter_enabled: true
  trust_filter_enabled: true
  min_quality_score: 0.6
  min_trust_score: 0.7

conversational:
  # 필터 오버라이드
  quality_filter_enabled: true
  trust_filter_enabled: true
  min_quality_score: 0.4
  min_trust_score: 0.4
